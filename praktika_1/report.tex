\input{../template.tex}

% Dokumentinformationen
\newcommand{\SUBJECT}{Report}
\newcommand{\TITLE}{Cloud Infrastructre Lab 1}

\input{../front.tex}

% E-Mail to beat.stettler@ins.hsr.ch bis Donnerstag 23:59

%TODO: Übersicht logische topologie erstellen
%TODO: IP Adressplan erstellen
%TODO: Layer 2 und Layer 3 Protokolle angeben

%TODO: Verify and proof problems with measured date
%TODO: Empfehlungen für Anpassungen am Netzwerk
%TODO: Kostenvoranschlag für das Beheben der Fehler. Lösung mit dem kleinsten Einfluss auf das Produktive System und geringste Kosten


\section{Grundlegendes}
\subsection{Tools}
\begin{enumerate}
	\item Tftpd64 um Konfigurationen zu dumpen
	\item jPerf um den Durchsatz zu messen
	\item % TODO Netflow?
	\item % TODO 
\end{enumerate}

\section{Informationsbeschaffung}
In einem ersten Schritt wurden sämtliche Konfigurationen mit dem Tool Tftpd64 von den Router und Switches kopiert. Diese wurden dann in einem nächsten Schritt auf Fehlkonfigurationen analysiert. Dabei gingen wir nach folgendem Schema vor:

% TODO add schema
\begin{enumerate}
	\item 
\end{enumerate}

\subsection{Analyse des Konfigurationen}
\subsubsection{VLAN}
\begin{table}[h]
	\centering
	\begin{tabu} to \linewidth {l l l}
		\toprule 
		VLAN & Name & Bedeutung \\
		\midrule
		VLAN 10 & HR & Personalabteilung \\
		VLAN 11 & IT & IT Abteilung \\
		VLAN 99 & MGMT & Management\\
		VLAN 100 & STAFF & Mitarbeiter\\
		VLAN 150 & IWAS & ???\\
		VLAN 200 & STUDENTS & Studenten\\
		\bottomrule 
	\end{tabu} 
	\caption{VLAN's}
\end{table}

\begin{table}[h]
	\centering
	\begin{tabu} to \linewidth {l l l}
		\toprule 
		VLAN & Subnetz & Bemerkung \\
		\midrule
		VLAN1 & 172.16.103.0/24 & \\
		VLAN10 & 172.16.1.0/24 & \\
		VLAN11 & 172.16.2.0/24 & \\
		VLAN20 & no ip addr assigned & (router ospf) \\
		VLAN21 & 172.16.16.0/24 & (mtu-ignore) \\
		VLAN30 & 172.16.17.0/24 & \\
		VLAN40 & 172.16.18.0/24 & (standby) \\
		VLAN41 & 172.16.19.0/24 & (mtu ignore) \\
		VLAN100 & 172.16.20.0/24 & (mtu ignore) \\
		VLAN103 & 172.16.23.0/24 & \\
		\bottomrule 
	\end{tabu} 
	\caption{VLAN Subnetze}
\end{table}

\subsection{Konfiguration kopieren}
Für jedes Geräte wurden die Outputs der folgenden Befehle auf die lokalen Notebooks kopiert. Alle Konfiguration sind im Anhang \ref{appendix:configurations} zu finden

\begin{lstlisting}[language=bash]
copy run tftp und dann [your local ip addr]
show ip interface brief
show interface status
show cdp neighbors
\end{lstlisting}

\section{Logische Topologie}

\section{Gefundene Fehler}
\subsection{Layer 1}
Auf OSI Layer 1 wurden keine Fehler gefunden.

\subsection{Layer 2}
\subsubsection{Spanning Tree}

\subsubsection{VLAN}

\subsection{Layer 3}

\subsubsection{Routen}

\subsection{OSPF}


\section{Messungen}
\subsection{Traceroute}
Alle Durchgeführten Traceroute Messungen sind im Anhang \ref{appendix:measures} zu finden.

% TODO add folgerungen


%TODO Ist ein Port mit langsamem Durchsatz konfiguriert?

\subsection{jPerf}




\section{Empfehlungen}
Aufgrund der vorangehenden Erkenntnissen empfehlen wir, an folgenden Punkten anzusetzen:
%TODO add recommedations
\begin{enumerate}
	\item 
\end{enumerate}

\subsection{Kostenvoranschlag}
Für die Umsetzung unserer Empfehlungen würden folgende Kosten anfallen.
\begin{table}[h]
	\centering
	\begin{tabu} to \linewidth {l l l l}
		\toprule 
		Beschreibung & Zeitaufwand in h  & Stundenansatz in CHF & Total \\
		\midrule
		&&& \\
		\textbf{Total} & & & \underline{\underline{1 Million}} \\
		\bottomrule 
	\end{tabu} 
	\caption{Kostenvoranschlag}
\end{table}

\input{appendix.tex}