\input{../template.tex}

% Dokumentinformationen
\newcommand{\SUBJECT}{Report}
\newcommand{\TITLE}{Cloud Infrastructre Lab 2}

\input{../front.tex}

% 06.10.2016, 23:55, as PDF to beat.stettler@ins.hsr.ch

\section{Aufgabenstellung}
\subsection{Einleitung}
Gemäss der Aufgabenstellung

\begin{quotation}
	The fictional company BetaHouse Inc. is specialized in the high-frequency trading sector. In this exercise you will design the LAN part of the network, based on customer specifications. Part two will focus on the WAN integration with several remote locations throughout Switzerland (10+).
	
	Start with analyzing and characterizing the desired goals. Then go ahead with a logical network design. Based on that define the physical network. Document, review and change if needed until you get a satisfying solution. 
	
	\textbf{It’s important to describe your design decisions in your documentation.}
\end{quotation}

\subsection{Angaben zur Firma}

\begin{description}
	\item[Firmenname] BetaHouse Inc.
	\item[Niederlassungen] 10+, verbunden über WAN
\end{description}

%TODO Michi: Include the cool diagram

\subsection{Vorgehen}

\begin{enumerate}
	\item Analyse der Kundenansprüche
	\item Designentscheidungen ausformulieren
	\item Aufbau des Campus LAN Design
	\item Aufbau des Adressierungs- \& Namensschema
	\item Analysieren Nutzung von Cloud Diensten
\end{enumerate}

\section{LAN Design Headquarter}

\subsection{Kundenansprüche an das Netzwerk}

\subsubsection{Ansprüche Verfügbarkeit / Redundanz }
Da die Firma im Highspeed-Finanztrading arbeitet, ist eine zuverlässige Anbindung in und an die Firmeninfrastruktur essenziell. Besonders kommt dies bei der Trading-Abteilung zum tragen: Diese muss mit sehr grossen Beträgen in kurzer Zeit, ohne Unterbrüche handeln können. Deshalb sollte die Trading-Abteilung zusätzlich Redundant angeschlossen werden.

Grundsätzlich sind für die meisten Mitarbeiter eine Verfügbarkeit von ca. 99.99\% ausreichend, für die Trading-Abteilung sollte eine Verfügbarkeit von 99.999\% angestrebt werden.

Um diese Zahlen zu erreichen, müssen nahezu alle Geräte redundant ausgelegt sein (eine Doppelredundanz wird angestrebt; eine Dreifachredundanz würden Komplexität und Kosten zu stark erhöhen). Zudem müssen in der IT-Abteilung Strikte Verfahren festgelegt werden, welche die Konfiguration des Netzwerkes nur noch nach dem Vieraugenprinzip erlaubt. Damit wird die Fehlerwahrscheinlichkeit gesenkt.

\subsubsection{Datenfluss Netzwerk}

Der meiste Datenfluss im Netzwerk wird wohl von den Tradern ausgehen, da diese immer über aktuelle Ereignisse informiert sein müssen sowie häufig und viele Trading-Aktionen auslösen. Die anderen Abteilungen haben einen geringen bis mittleren Bedarf an Internet und internen Daten, sowie Anspruch an eine latenzarme Telefonielösung.

\paragraph{Datacenter}
Das Datacenter hat einen, durch die zentrale Funktion bedingten, höheren Netzwerk- und Redundanzbedarf. Das Datacenter stellt zudem Internetdienste (wie E-Mail und Webseite) sowie Terminal- und Telefonieserver im internen Netz für das Headquarter und die Branches zur Verfügung, und bedarf deshalb ein sehr Ausfallsicheres Netzwerk.

\paragraph{Aussenstandorte}

Die Aussenstandorte, welche über die MPLS-Cloud angeschlossen sind, benötigen einen stabile und performante Anbindung an das Datacenter, da die Mitarbeiter in erster Linie auf den Terminal-Servern und internen Cloud-Diensten arbeiten.

\subsubsection{Application QoS Ansprüche}

Der Latenzzeit bei BetaHouse Inc. ist insbesondere bei den Highspeed-Tradern sowie der Telefonie Beachtung zu schenken. Beim Highspeed-Trading kann die Konkurrenz schon nach wenigen Milisekunden einen Vorteil erwirtschaften; dies kann zu grossen Verlusten führen.

Bei der Telefonie ist es wichtig, dass die Latenzzeit unter 200ms, wenn möglich aber unter 100ms Ende-zu-Ende-Latenz liegen soll.

Zum sicherstellen der obenstehenden Geschwindigkeiten muss auf allen Routern ein QoS auf das Trading-Netzwerk sowie auf SIP/RTP bzw. SIPS/RTPS.


\paragraph{Firmenwachstum}
Bei den Schätzungen der Firmengrösse sind wir von einem Wachstum von $10\%$ pro Jahr qua Mitarbeiterzahl bzw. benötigten Geräten ausgegangen. Dies bedeutet auf eine 5-Jahres-Frist ein Wachstum von ca. $160\%$.

\subsection{Campus LAN Design}

\subsubsection{Logische Netzwerkkarte}
%MUST cover WAN access
%MUST cover Internet access
%MUST cover reasoning for design
\subsubsection{Physische Netzwerkkarte}
%MUST cover reasoning for design

\subsubsection{Adressierungs- \& Namensschema}
\paragraph{IPv4}

Die internen IPv4 Adressen werden gemäss folgendem Schema aufgebaut: 

 \lstinline|10.<Abteilung>.<Standort>.0/24|
 
\begin{table}[h]
	\centering
  \begin{tabu}{l l}
  	\toprule 
  	Abteilung & Netzbereich \\
  	\midrule
  	IT & \lstinline|10.1.|\\
  	Trading & \lstinline|10.2.| \\
  	Banking & \lstinline|10.3.|\\
  	HR & \lstinline|10.4.|\\
	 	Gäste & \lstinline|10.5.|\\
	 	(Datacenter \& Routing) & \lstinline|10.200.|\\
	 	\bottomrule
  \end{tabu}
  \caption{Abteilung IPv4-Adressblock}
\end{table}

\begin{table}[h]
	\centering
	\begin{tabu}{l l}
		\toprule
		Standort & Netzbereich \\
		\midrule
		0. Floor & \lstinline|10.x.0.| \\
		1. Floor & \lstinline|10.x.1.| \\
		2. Floor & \lstinline|10.x.2.| \\
		3. Floor & \lstinline|10.x.3.| \\
		4. Floor & \lstinline|10.x.4.| \\
		Branch 1 & \lstinline|10.x.11.| \\
		Branch 2 & \lstinline|10.x.12.| \\
		Branch 3 & \lstinline|10.x.13.| \\
		Datacenter & \lstinline|10.x.200.| \\
		Datacenter DMZ & \lstinline|10.x.224.| \\
		\bottomrule
	\end{tabu}
	\caption{Standorte IPv4-Adressblock}
\end{table}

\paragraph{IPv6}

Die internen IPv6 Adressen werden gemäss folgendem Schema aufgebaut: 

\lstinline|<Provider-Prefix>:<Abteilung><Standort>:<autoconf-eui-64>|

\begin{table}[h]
	\centering
	\begin{tabu}{l l}
		\toprule 
		Abteilung & Netzbereich \\
		\midrule
		IT & \lstinline|01|\\
		Trading & \lstinline|02| \\
		Banking & \lstinline|03|\\
		HR & \lstinline|04|\\
		Gäste & \lstinline|05|\\
		(Datacenter \& Routing) & \lstinline|C8|\\
		\bottomrule
	\end{tabu}
	\caption{Abteilung IPv6-Adressblock}
\end{table}

\begin{table}[h]
	\centering
	\begin{tabu}{l l}
		\toprule
		Standort & Netzbereich \\
		\midrule
		0. Floor & \lstinline|00| \\
		1. Floor & \lstinline|01| \\
		2. Floor & \lstinline|02| \\
		3. Floor & \lstinline|03| \\
		4. Floor & \lstinline|04| \\
		Branch 1 & \lstinline|0B| \\
		Branch 2 & \lstinline|0C| \\
		Branch 3 & \lstinline|0D| \\
		Datacenter & \lstinline|C8| \\
		\bottomrule
	\end{tabu}
	\caption{Standorte IPv6-Adressblock}
\end{table}

\subsection{Technologie \& Protokolle}
\subsubsection{Layer 2}
\subsubsection{Layer 3}
Für das Routing wird OSPF verwendet. 

\subsection{Benötigte Komponenten}
\subsubsection{Access Ports}
\begin{table}[h]
	\centering
	\begin{tabu} to \linewidth {l l l l l}
		\toprule 
		Location & Abteilung & Anz. Mitarbeiter & Anz. Drucker & Benötigte Access Ports \\
		\midrule
		HQ 1. Stock & Banking und Gäste & 150 & 15 & $150 + 15 + 1 = 166$ \\ 
		HQ 2. Stock & Banking & 150 & 15 & $150 + 15 = 165$ \\
		HQ 3. Stock & Trading & 30 & 3 & $2 \cdot 30 + 3 = 63$ \\ 
		HQ 4. Stock & IT und HR & $10 + 20 = 30$ & 3 & $30 + 3 = 33$\\
		Branch  & Banking & 20 & 2 & $20 + 2 = 22$\\
		\bottomrule 
	\end{tabu} 
	\label{tbl:require_access_ports}
	\caption{Benötigte Access Ports}
\end{table}

\subsection{Switches}
Die Trading Abteilung wird speziell redundant angebunden. Um die Ausfallsicherheit zu erhöhen, werden je 8 Mitarbeiter an einen Switch angeschlossen. Jeder Mitarbeiter benötigt 2 Access Ports, da die VoIP Phones eigenständig angeschlossen werden. Alle übrigen Abteilungen werden gemäss ihrer Mitarbeiteranzahl angeschlossen, wobei ein Wachstum einberechnet ist. 
Wie in Tabelle \ref{tbl:require_access_ports} ersichtlich, müssen folgende Switchs angeschafft werden:
%TODO abklären wie viele ports maximal bei switches üblich sind
%TODO Backupswitch und verfahren bei ausfall irgendwo notieren
\begin{table}[h]
	\centering
	\begin{tabu} to \linewidth {l l l X X}
		\toprule 
		Abteilung & Anzahl & Komponenten & Hostname & Bemerkung \\
		\midrule
		Banking 1.Stock & 8x 24Port Switch & 192 &  & \\
		Banking 2.Stock & 8x 24Port Switch & 192 &  & \\
		Trading 3. Stock & 4x 24-Port Switch & 96 & $16 + 16 + 16 + 12 + 3 = 63$ & Jeder Mitarbeiter benötigt 2 Ports (Computer + VoIP Phone)\\
		IT und HR 4. Stock & 2x 24 Port Switch & 48 &  & \\
		\bottomrule 
	\end{tabu} 
	\caption{Benötigte Switches}
\end{table}

\section{WAN Design}

\subsection{Kundenansprüche an das Netzwerk}

\subsection{WAN Network Design}
%MUST cover remote locations, external services like web, mail
%MUST include security considerations

\subsubsection{Adressierungs- \& Namensschema}

\subsubsection{Logische Netzwerkkarte}
%MUST cover HQ and 3 Branch Offices
\subsubsection{Physische Netzwerkkarte}

\subsection{Technologie \& Protokolle}
\subsubsection{Layer 2}
\subsubsection{Layer 3}

\subsection{Benötigte Komponenten}

\section{Organisation IT-Applikationen}

\subsection{Positionierung Applikationsserver}
%Where	would	you	place	servers	in	your	network?	Decide	for	each	of	the	following	applications,	where	to	place	them	and	why?	Domain-Control	Servers,	Mainframe	for	Banking-Application,	High-Frequency-Trading-Server,	VoIP	Server,	Backup	Server

Um eine ausfallsichere und schnelle Applikations-Infrastruktur zu ermöglichen, empfiehlt es sich, die Applikationsserver folgendermassen zu verteilen.

\subsection{Cloud Dienste}
%Describe	possible	limitations	with	this	design	if	the	company	would	be	starting	to	use	cloud	services.	Describe	possible	limitations	with	this	design	if	the	company	would	be	starting	to	use	cloud	services.	s


\input{appendix.tex}
